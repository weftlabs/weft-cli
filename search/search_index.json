{"config":{"lang":["en"],"separator":"[\\s\\-,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"#weft-cli","title":"Weft CLI","text":"<p>Structured AI workflows for real-world software development</p> <p>Design, implement, and review features with specialized AI agents \u2014 auditable, human-controlled, and ready for production use.</p> <p>Get Started View on GitHub</p>"},{"location":"#what-is-weft","title":"What is Weft?","text":"<p>Weft is a developer-first CLI that uses specialized AI agents to build software features end-to-end \u2014 without giving up control.</p> <p>Instead of ad\u2011hoc prompts or \u201cvibe coding\u201d, Weft provides a repeatable, reviewable workflow that fits into how real teams already work.</p> <ul> <li>AI assists, humans decide</li> <li>Every step is auditable</li> <li>Nothing auto\u2011merges</li> <li>Built for real projects</li> </ul>"},{"location":"#why-teams-use-weft","title":"Why teams use Weft","text":"<ul> <li> <p>Predictable, not opaque</p> <p>Role\u2011based agents with clear responsibilities \u2014 no random prompts, no surprises.</p> </li> <li> <p>You stay in control</p> <p>AI proposes changes. You review them. Nothing runs or merges without approval.</p> </li> <li> <p>Auditability by default</p> <p>Every prompt, decision, and output is git\u2011tracked and reproducible.</p> </li> <li> <p>Fits existing workflows</p> <p>Works with branches, reviews, CI, and existing repositories.</p> </li> </ul>"},{"location":"#how-it-works-high-level","title":"How it works (high level)","text":"<p>Feature request \u2192 Agents \u2192 Human review \u2192 Merge</p> <p>Weft runs a fixed sequence of agents that design, implement, and test a feature. Each step produces artifacts you can inspect, modify, or reject.</p> <p>See the full agent pipeline \u2192</p>"},{"location":"#quick-start","title":"Quick start","text":"<p>Get started in a few minutes:</p> <p>Install Weft:</p> <pre><code>brew install weft\n</code></pre> <p>Initialize it in your project:</p> <pre><code>weft init\nweft up\n</code></pre> <p>Create and run a feature:</p> <pre><code>weft feature create user-auth\nweft feature start user-auth\n</code></pre> <p>\ud83d\udc49 Full installation guide \u2192</p>"},{"location":"#built-for-quality-and-security","title":"Built for quality and security","text":"<ul> <li>No automatic code execution  </li> <li>No secrets or PII sent to AI  </li> <li>Mandatory human review gates  </li> <li>Containerized, isolated agents  </li> <li>Designed with common enterprise security requirements in mind  </li> </ul> <p>Learn more about the architecture \u2192</p>"},{"location":"#open-source","title":"Open source","text":"<p>Weft CLI is open source and MIT\u2011licensed.</p> <ul> <li>Report bugs or request features on GitHub</li> <li>Join discussions and help shape the roadmap</li> <li>Contributions are welcome</li> </ul> <p>View the repository \u2192</p> <p>Ready to build with AI \u2014 without giving up control?</p> <p>Get Started \u2192</p>"},{"location":"agents/","title":"Agents","text":"<p>Weft uses specialized AI agents to turn a feature request into reviewable, production-ready code \u2014 while keeping humans firmly in the loop.</p> <p>Each agent has a single, well-defined responsibility. Agents run in a fixed sequence and produce artifacts you can inspect, edit, or reject.</p>"},{"location":"agents/#the-agent-workflow-conceptual","title":"The agent workflow (conceptual)","text":"<p>Feature request \u2192 Design \u2192 Implementation \u2192 Validation \u2192 Human review \u2192 Merge</p> <p>Agents never merge code automatically. You stay in control at every decision point.</p>"},{"location":"agents/#why-agents-instead-of-prompts","title":"Why agents (instead of prompts)?","text":"<p>Traditional AI coding tools rely on long, ad-hoc prompts and unpredictable outputs.</p> <p>Weft agents are different:</p> <ul> <li>Each agent has one job</li> <li>Inputs and outputs are explicit</li> <li>Results are reproducible</li> <li>Every step is git-tracked</li> </ul> <p>This makes AI-assisted development predictable, auditable, and suitable for real projects.</p>"},{"location":"agents/#the-agents","title":"The agents","text":""},{"location":"agents/#meta-00","title":"Meta (00)","text":"<p>Purpose: Understand the feature and produce a clear design brief.</p> <p>Outputs: - Feature summary - User stories - Acceptance criteria - Constraints and assumptions</p> <p>Use this agent to clarify what should be built before writing code.</p>"},{"location":"agents/#architect-01","title":"Architect (01)","text":"<p>Purpose: Design the technical solution.</p> <p>Outputs: - Data models - API design - Component boundaries - Security and error-handling considerations</p> <p>This agent focuses on how the feature should be implemented.</p>"},{"location":"agents/#openapi-02","title":"OpenAPI (02)","text":"<p>Purpose: Generate an explicit API contract.</p> <p>Outputs: - OpenAPI (Swagger) specifications - Schemas and endpoint definitions</p> <p>This creates a shared source of truth for backend and frontend work.</p>"},{"location":"agents/#ui-03","title":"UI (03)","text":"<p>Purpose: Generate user interface components.</p> <p>Outputs: - Page-level components - Feature-specific UI components - Reusable UI elements</p> <p>The UI agent consumes the API and architecture outputs.</p>"},{"location":"agents/#integration-04","title":"Integration (04)","text":"<p>Purpose: Connect everything together.</p> <p>Outputs: - API clients - Service layers - Data-fetching logic - Error handling</p> <p>This agent wires the UI and backend together in a type-safe way.</p>"},{"location":"agents/#test-05","title":"Test (05)","text":"<p>Purpose: Validate the feature.</p> <p>Outputs: - Unit tests - Integration tests - Test execution results</p> <p>Tests are generated and executed automatically, but failures never merge silently.</p>"},{"location":"agents/#human-review-model","title":"Human review model","text":"<p>Weft enforces a single, explicit human review gate.</p> <p>After all agents finish:</p> <ul> <li>Review the generated files</li> <li>Inspect diffs in the feature branch</li> <li>Check test results</li> <li>Decide to accept, modify, or discard the feature</li> </ul> <p>Run:</p> <pre><code>weft feature review &lt;feature&gt;\n</code></pre> <p>Nothing is merged without this step.</p>"},{"location":"agents/#agent-ordering","title":"Agent ordering","text":"<p>Agents are designed to run sequentially:</p> <ol> <li>Meta</li> <li>Architect</li> <li>OpenAPI</li> <li>UI</li> <li>Integration</li> <li>Test</li> </ol> <p>You can disable agents or stop early if a design needs revision.</p>"},{"location":"agents/#when-to-stop-and-iterate","title":"When to stop and iterate","text":"<p>Stop the workflow when: - Requirements are unclear - Architecture doesn\u2019t feel right - Generated code needs direction changes</p> <p>Refine the prompt, then rerun the agent. Iteration is expected.</p> <p>Stopping early is a feature, not a failure.</p>"},{"location":"agents/#what-this-page-intentionally-omits","title":"What this page intentionally omits","text":"<p>This page focuses on how to think about agents, not how they are implemented.</p> <p>For deeper details, see: - Configuration \u2192 configuration.md - Architecture \u2192 architecture.md - CLI commands \u2192 cli-reference.md</p>"},{"location":"agents/#next-steps","title":"Next steps","text":"<ul> <li>Learn how to configure agents \u2192 configuration.md</li> <li>See agent-related CLI commands \u2192 cli-reference.md</li> </ul>"},{"location":"architecture/","title":"Architecture","text":"<p>This page explains how Weft is put together and why it is designed the way it is.</p> <p>Weft is a CLI that orchestrates isolated agent runtimes and produces reviewable artifacts in your repository. The design goal is simple:</p> <p>Make AI-assisted development predictable, auditable, and safe for real projects.</p>"},{"location":"architecture/#high-level-model","title":"High-level model","text":"<p>Weft separates your world into three clearly defined areas:</p> <ol> <li>Your code (your git repository)</li> <li>Runtime &amp; prompts (Weft\u2019s <code>.weft/</code> directory)</li> <li>AI history (a git-tracked record of inputs/outputs)</li> </ol> <p>Agents read explicit inputs, generate explicit outputs, and nothing is merged automatically.</p>"},{"location":"architecture/#where-files-live","title":"Where files live","text":""},{"location":"architecture/#project-repository","title":"Project repository","text":"<p>Your normal project stays unchanged:</p> <ul> <li><code>src/</code>, <code>app/</code>, <code>packages/</code>, etc. (your code)</li> <li><code>.weftrc.yaml</code> (Weft configuration)</li> <li><code>.weft/</code> (Weft runtime directory)</li> </ul>"},{"location":"architecture/#weft-runtime-directory-weft","title":"Weft runtime directory: <code>.weft/</code>","text":"<p><code>.weft/</code> is intentionally local to the project and safe to inspect:</p> <ul> <li><code>docker-compose.yml</code> (agent runtime)</li> <li><code>features/</code> (feature workspaces and state)</li> <li><code>prompts/</code> (prompt specifications)</li> <li><code>tasks/</code> and <code>history/</code> (run artifacts and metadata)</li> </ul> <p>Most teams can keep <code>.weft/</code> committed to the repo (except secrets, which never belong there).</p>"},{"location":"architecture/#ai-history-separate-git-repo","title":"AI history (separate git repo)","text":"<p>Weft can store AI artifacts in a dedicated history repository. This keeps AI traces auditable without polluting your main code history.</p> <p>Typical contents: - agent inputs (what was asked) - agent outputs (what was produced) - logs (what happened)</p> <p>If you prefer a single-repo setup, you can also keep history inside the project \u2014 the key point is that it is versioned and reviewable.</p>"},{"location":"architecture/#why-docker","title":"Why Docker","text":"<p>Agents run in containers to provide:</p> <ul> <li>consistent environments across machines</li> <li>isolation from your host</li> <li>predictable dependencies and tooling</li> <li>clearer security boundaries</li> </ul> <p>Weft uses Docker Compose so every project can run its own agent runtime without conflicts.</p>"},{"location":"architecture/#git-integration-and-isolation","title":"Git integration and isolation","text":"<p>Weft is built around git-native workflows:</p> <ul> <li>Each feature runs in its own worktree</li> <li>Outputs become regular diffs you can inspect</li> <li>You merge using your normal review process</li> </ul> <p>This lets teams use AI assistance without changing how they do code review, CI, or releases.</p>"},{"location":"architecture/#key-design-decisions","title":"Key design decisions","text":""},{"location":"architecture/#human-review-gate","title":"Human review gate","text":"<p>Weft enforces a single rule:</p> <p>AI can propose changes. Humans decide what ships.</p> <p>Nothing auto-merges. You can always stop, adjust, or discard a feature.</p>"},{"location":"architecture/#explicit-inputs-and-outputs","title":"Explicit inputs and outputs","text":"<p>Weft avoids \u201chidden context\u201d:</p> <ul> <li>prompts are visible</li> <li>outputs are written to disk</li> <li>artifacts are git-tracked</li> </ul> <p>This makes the workflow repeatable and debuggable.</p>"},{"location":"architecture/#separation-of-code-and-ai-artifacts","title":"Separation of code and AI artifacts","text":"<p>Weft keeps AI traces separate from your code by default, so you can: - audit what happened - share history safely (when appropriate) - keep your main repository clean</p>"},{"location":"architecture/#security-principles","title":"Security principles","text":"<p>Weft is built with conservative defaults:</p> <ul> <li>API keys live in environment variables, not config files</li> <li>Agents never execute code automatically</li> <li>You choose what is sent to an LLM</li> <li>Diffs and artifacts are reviewable before merging</li> </ul> <p>If you need stricter controls (e.g., regulated environments), you can run with local models and restricted network access.</p>"},{"location":"architecture/#what-happens-during-a-feature-run-simplified","title":"What happens during a feature run (simplified)","text":"<ol> <li>You create a feature and start it</li> <li>Weft runs agents in order (meta \u2192 architect \u2192 \u2026 \u2192 test)</li> <li>Agents write artifacts and proposed code changes</li> <li>You review diffs and decide what to accept</li> <li>If accepted, you merge like any normal change</li> </ol> <p>For the conceptual workflow, see: Agents \u2192</p>"},{"location":"architecture/#next-steps","title":"Next steps","text":"<ul> <li>Configure providers, models, and agents \u2192 configuration.md</li> <li>Learn the agent workflow \u2192 agents.md</li> <li>See all commands \u2192 cli-reference.md</li> </ul>"},{"location":"cli-reference/","title":"CLI Reference","text":"<p>Reference for all available <code>weft</code> commands and options. This page is intentionally concise and assumes basic familiarity with Weft concepts.</p>"},{"location":"cli-reference/#global-flags","title":"Global flags","text":"<p>These flags apply to all commands:</p> <pre><code>weft [GLOBAL FLAGS] COMMAND [COMMAND OPTIONS]\n</code></pre> Flag Description <code>--config PATH</code> Config file path (default: <code>.env</code>) <code>--verbose, -v</code> Enable verbose output <code>--version</code> Show version and exit <code>--help</code> Show help and exit"},{"location":"cli-reference/#commands-overview","title":"Commands Overview","text":"Command Description <code>weft init</code> Initialize a Weft project <code>weft up</code> Start Docker runtime <code>weft down</code> Stop Docker runtime <code>weft logs</code> View agent watcher logs <code>weft feature</code> Manage feature lifecycle"},{"location":"cli-reference/#weft-init","title":"<code>weft init</code>","text":"<p>Initialize Weft in the current directory.</p>"},{"location":"cli-reference/#synopsis","title":"Synopsis","text":"<pre><code>weft init [OPTIONS]\n</code></pre>"},{"location":"cli-reference/#options","title":"Options","text":"Flag Type Description <code>--project-name TEXT</code> String Project name (lowercase letters, numbers, hyphens, and underscores only) <code>--project-type CHOICE</code> Choice <code>backend</code> | <code>frontend</code> | <code>fullstack</code> <code>--ai-provider CHOICE</code> Choice <code>claude</code> | <code>ollama</code> | <code>other</code> <code>--ai-history-path PATH</code> Path AI history repo path <code>--model TEXT</code> String AI model (e.g., <code>claude-3-5-sonnet-20241022</code>)"},{"location":"cli-reference/#exit-codes","title":"Exit Codes","text":"Code Meaning 0 Success 1 Error (e.g., missing deps)"},{"location":"cli-reference/#examples","title":"Examples","text":"<pre><code>weft init\n</code></pre> <pre><code>weft init --project-name my-app --project-type fullstack --ai-provider claude --ai-history-path ../weft-ai-history --model claude-3-5-sonnet-20241022\n</code></pre>"},{"location":"cli-reference/#weft-up","title":"<code>weft up</code>","text":"<p>Start the Docker runtime environment.</p>"},{"location":"cli-reference/#synopsis_1","title":"Synopsis","text":"<pre><code>weft up [OPTIONS]\n</code></pre>"},{"location":"cli-reference/#options_1","title":"Options","text":"Flag Type Default Description <code>--detach, -d</code> Flag true Run containers in background <code>--no-detach, -D</code> Flag - Run containers in foreground"},{"location":"cli-reference/#environment-variables","title":"Environment Variables","text":"Variable Description <code>ANTHROPIC_API_KEY</code> or <code>WEFT_ANTHROPIC_API_KEY</code> Claude API key (required) <code>AI_BACKEND</code> Override backend from config <code>CLAUDE_MODEL</code> Override model from config"},{"location":"cli-reference/#exit-codes_1","title":"Exit Codes","text":"Code Meaning 0 Services started successfully 1 Docker not available or startup failed"},{"location":"cli-reference/#examples_1","title":"Examples","text":"<pre><code>weft up\n</code></pre> <pre><code>CLAUDE_MODEL=claude-3-opus-20240229 weft up --no-detach\n</code></pre>"},{"location":"cli-reference/#weft-down","title":"<code>weft down</code>","text":"<p>Stop the Docker runtime environment.</p>"},{"location":"cli-reference/#synopsis_2","title":"Synopsis","text":"<pre><code>weft down [OPTIONS]\n</code></pre>"},{"location":"cli-reference/#options_2","title":"Options","text":"Flag Type Description <code>--volumes, -v</code> Flag Remove named volumes"},{"location":"cli-reference/#exit-codes_2","title":"Exit Codes","text":"Code Meaning 0 Services stopped successfully 1 Docker not available or stop failed"},{"location":"cli-reference/#examples_2","title":"Examples","text":"<pre><code>weft down --volumes\n</code></pre>"},{"location":"cli-reference/#weft-logs","title":"<code>weft logs</code>","text":"<p>View logs from agent watcher containers.</p>"},{"location":"cli-reference/#synopsis_3","title":"Synopsis","text":"<pre><code>weft logs [AGENT] [OPTIONS]\n</code></pre>"},{"location":"cli-reference/#arguments","title":"Arguments","text":"Argument Description <code>AGENT</code> Agent name (optional): <code>meta</code>, <code>architect</code>, <code>openapi</code>, <code>ui</code>, <code>integration</code>, <code>test</code>"},{"location":"cli-reference/#options_3","title":"Options","text":"Flag Type Default Description <code>--follow, -f</code> Flag false Stream logs live <code>--tail, -n NUM</code> Integer 100 Number of lines to show"},{"location":"cli-reference/#exit-codes_3","title":"Exit Codes","text":"Code Meaning 0 Logs displayed (or interrupted) 1 Docker not available or container not found"},{"location":"cli-reference/#examples_3","title":"Examples","text":"<pre><code>weft logs meta --follow\n</code></pre>"},{"location":"cli-reference/#weft-feature","title":"<code>weft feature</code>","text":"<p>Manage feature lifecycle.</p>"},{"location":"cli-reference/#synopsis_4","title":"Synopsis","text":"<pre><code>weft feature SUBCOMMAND [OPTIONS]\n</code></pre>"},{"location":"cli-reference/#subcommands","title":"Subcommands","text":"Subcommand Description <code>create</code> Create a new feature <code>start</code> Start working on feature <code>list</code> List features <code>status</code> Show feature status <code>review</code> Review feature outputs (accept/continue/drop) <code>drop</code> Drop a feature"},{"location":"cli-reference/#weft-feature-create","title":"<code>weft feature create</code>","text":"<p>Create a new feature.</p>"},{"location":"cli-reference/#synopsis_5","title":"Synopsis","text":"<pre><code>weft feature create FEATURE_NAME [OPTIONS]\n</code></pre>"},{"location":"cli-reference/#arguments_1","title":"Arguments","text":"Argument Description <code>FEATURE_NAME</code> Feature name (kebab-case)"},{"location":"cli-reference/#options_4","title":"Options","text":"Flag Type Description <code>--description TEXT</code> String Feature description <code>--priority CHOICE</code> Choice <code>low</code> | <code>medium</code> | <code>high</code>"},{"location":"cli-reference/#exit-codes_4","title":"Exit Codes","text":"Code Meaning 0 Feature created successfully 1 Feature exists or creation failed"},{"location":"cli-reference/#examples_4","title":"Examples","text":"<pre><code>weft feature create user-authentication --description \"Add JWT auth\" --priority high\n</code></pre>"},{"location":"cli-reference/#weft-feature-start","title":"<code>weft feature start</code>","text":"<p>Start working on a feature.</p>"},{"location":"cli-reference/#synopsis_6","title":"Synopsis","text":"<pre><code>weft feature start FEATURE_NAME\n</code></pre>"},{"location":"cli-reference/#arguments_2","title":"Arguments","text":"Argument Description <code>FEATURE_NAME</code> Feature to start"},{"location":"cli-reference/#exit-codes_5","title":"Exit Codes","text":"Code Meaning 0 Feature started 1 Feature not found or already started"},{"location":"cli-reference/#weft-feature-list","title":"<code>weft feature list</code>","text":"<p>List features.</p>"},{"location":"cli-reference/#synopsis_7","title":"Synopsis","text":"<pre><code>weft feature list [OPTIONS]\n</code></pre>"},{"location":"cli-reference/#options_5","title":"Options","text":"Flag Type Description <code>--status CHOICE</code> Choice Filter by status: <code>pending</code>, <code>in-progress</code>, <code>completed</code>, <code>dropped</code>"},{"location":"cli-reference/#examples_5","title":"Examples","text":"<pre><code>weft feature list --status in-progress\n</code></pre>"},{"location":"cli-reference/#weft-feature-status","title":"<code>weft feature status</code>","text":"<p>Show feature status.</p>"},{"location":"cli-reference/#synopsis_8","title":"Synopsis","text":"<pre><code>weft feature status FEATURE_NAME\n</code></pre>"},{"location":"cli-reference/#arguments_3","title":"Arguments","text":"Argument Description <code>FEATURE_NAME</code> Feature to show"},{"location":"cli-reference/#examples_6","title":"Examples","text":"<pre><code>weft feature status user-authentication\n</code></pre>"},{"location":"cli-reference/#weft-feature-review","title":"<code>weft feature review</code>","text":"<p>Review feature outputs and decide next step.</p>"},{"location":"cli-reference/#synopsis_9","title":"Synopsis","text":"<pre><code>weft feature review FEATURE_NAME [OPTIONS]\n</code></pre>"},{"location":"cli-reference/#arguments_4","title":"Arguments","text":"Argument Description <code>FEATURE_NAME</code> Feature to review"},{"location":"cli-reference/#options_6","title":"Options","text":"Flag Description <code>--delete-history</code> Delete AI history when dropping <code>--reason TEXT</code> Reason for dropping (audit) <code>--base-branch TEXT</code> Target branch for merge (default: main)"},{"location":"cli-reference/#exit-codes_6","title":"Exit Codes","text":"Code Meaning 0 Review completed 1 Feature not found or cancelled"},{"location":"cli-reference/#outcomes","title":"Outcomes","text":"<ul> <li>Accept: Merge feature and mark completed  </li> <li>Continue: Keep feature active  </li> <li>Drop: Abandon feature and optionally delete history  </li> </ul>"},{"location":"cli-reference/#weft-feature-drop","title":"<code>weft feature drop</code>","text":"<p>Drop a feature.</p>"},{"location":"cli-reference/#synopsis_10","title":"Synopsis","text":"<pre><code>weft feature drop FEATURE_NAME [OPTIONS]\n</code></pre>"},{"location":"cli-reference/#arguments_5","title":"Arguments","text":"Argument Description <code>FEATURE_NAME</code> Feature to drop"},{"location":"cli-reference/#options_7","title":"Options","text":"Flag Short Type Description <code>--delete-history</code> Flag Permanently delete AI history <code>--reason</code> <code>-r</code> String Reason for dropping (audit) <code>--force</code> <code>-f</code> Flag Skip confirmation"},{"location":"cli-reference/#exit-codes_7","title":"Exit Codes","text":"Code Meaning 0 Feature dropped 1 Feature not found or failed"},{"location":"cli-reference/#environment-variables_1","title":"Environment variables","text":"<p>Environment variables are documented in configuration.md.</p>"},{"location":"cli-reference/#configuration-files","title":"Configuration Files","text":"<p>Configuration resolution is documented in configuration.md.</p>"},{"location":"cli-reference/#shell-completion","title":"Shell Completion","text":"<p>Weft supports shell completion for Bash, Zsh, and Fish.</p>"},{"location":"cli-reference/#bash","title":"Bash","text":"<pre><code># Add to ~/.bashrc\neval \"$(_WEFT_COMPLETE=bash_source weft)\"\n</code></pre>"},{"location":"cli-reference/#zsh","title":"Zsh","text":"<pre><code># Add to ~/.zshrc\neval \"$(_WEFT_COMPLETE=zsh_source weft)\"\n</code></pre>"},{"location":"cli-reference/#fish","title":"Fish","text":"<pre><code># Add to ~/.config/fish/completions/weft.fish\neval (env _WEFT_COMPLETE=fish_source weft)\n</code></pre>"},{"location":"cli-reference/#see-also","title":"See Also","text":"<ul> <li>Installation Guide </li> <li>Configuration Reference </li> <li>Agent System </li> <li>Architecture</li> </ul>"},{"location":"configuration/","title":"Configuration","text":"<p>Weft is designed to work well out of the box. Most teams only need a minimal configuration and can rely on sensible defaults.</p> <p>Configuration lives in a single file: <code>.weftrc.yaml</code>, created when you run <code>weft init</code>.</p>"},{"location":"configuration/#the-configuration-model","title":"The configuration model","text":"<p>Think of Weft configuration in four layers:</p> <ol> <li>Project context \u2013 what kind of project this is  </li> <li>AI setup \u2013 which model and provider to use  </li> <li>Agents \u2013 which steps run in the workflow  </li> <li>Git &amp; paths \u2013 how Weft integrates with your repo  </li> </ol> <p>If you understand these four, you understand Weft configuration.</p>"},{"location":"configuration/#minimal-configuration-recommended","title":"Minimal configuration (recommended)","text":"<p>Most projects work with something this simple:</p> <pre><code>project:\n  name: my-app\n  type: fullstack\n\nai:\n  provider: anthropic\n  model: claude-3-5-sonnet-20241022\n\nagents:\n  enabled:\n    - meta\n    - architect\n    - openapi\n    - ui\n    - integration\n    - test\n</code></pre> <p>Everything else has safe defaults.</p>"},{"location":"configuration/#project","title":"Project","text":"<p>Defines what you are building.</p> <pre><code>project:\n  name: my-app\n  type: fullstack\n</code></pre> <ul> <li> <p>name   Used for logs, feature metadata, and history tracking.</p> </li> <li> <p>type   One of:</p> </li> <li><code>backend</code></li> <li><code>frontend</code></li> <li><code>fullstack</code></li> </ul> <p>This helps agents generate more appropriate output.</p>"},{"location":"configuration/#ai-configuration","title":"AI configuration","text":"<p>Controls which LLM Weft uses and how.</p> <pre><code>ai:\n  provider: anthropic\n  model: claude-3-5-sonnet-20241022\n  model_profile: standard\n</code></pre>"},{"location":"configuration/#provider","title":"Provider","text":"<p>Supported providers: - <code>anthropic</code> (default) - <code>openai</code> - <code>local</code></p>"},{"location":"configuration/#model-profiles","title":"Model profiles","text":"<p>Model profiles trade speed for quality:</p> <ul> <li><code>fast</code> \u2013 quicker, cheaper iterations</li> <li><code>standard</code> \u2013 balanced default</li> <li><code>quality</code> \u2013 slower, higher reasoning depth</li> </ul> <p>Most teams should stick with <code>standard</code>.</p>"},{"location":"configuration/#agents","title":"Agents","text":"<p>Agents run sequentially and can be enabled or disabled.</p> <pre><code>agents:\n  enabled:\n    - meta\n    - architect\n    - openapi\n    - ui\n    - integration\n    - test\n</code></pre> <p>Valid agents: - <code>meta</code> - <code>architect</code> - <code>openapi</code> - <code>ui</code> - <code>integration</code> - <code>test</code></p>"},{"location":"configuration/#disabling-agents","title":"Disabling agents","text":"<p>You can temporarily disable agents when iterating on design:</p> <pre><code>agents:\n  enabled:\n    - meta\n    - architect\n</code></pre> <p>This lets you stop before code generation.</p>"},{"location":"configuration/#git-integration","title":"Git integration","text":"<p>Weft works directly with your git repository.</p> <pre><code>git:\n  worktree:\n    base_branch: main\n    prefix: feat/\n</code></pre> <ul> <li> <p>base_branch   Branch new features are created from.</p> </li> <li> <p>prefix   Naming convention for feature branches.</p> </li> </ul> <p>Each feature runs in its own isolated worktree.</p>"},{"location":"configuration/#paths-and-runtime-files-advanced","title":"Paths and runtime files (advanced)","text":"<p>By default, Weft keeps all runtime data inside <code>.weft/</code>.</p> <pre><code>paths:\n  root: .weft\n  features: .weft/features\n  tasks: .weft/tasks\n  history: .weft/history\n</code></pre> <p>You usually don\u2019t need to change these unless: - you have monorepo constraints - you want to store history outside the repo</p>"},{"location":"configuration/#environment-variables","title":"Environment variables","text":"<p>Some settings are intentionally kept out of config files.</p>"},{"location":"configuration/#required","title":"Required","text":"<pre><code>ANTHROPIC_API_KEY=sk-ant-...\n</code></pre>"},{"location":"configuration/#optional-overrides","title":"Optional overrides","text":"<pre><code>AI_BACKEND=anthropic\nCLAUDE_MODEL=claude-3-5-sonnet-20241022\n</code></pre> <p>Environment variables always override <code>.weftrc.yaml</code>.</p>"},{"location":"configuration/#security-principles","title":"Security principles","text":"<p>Weft follows a few strict rules:</p> <ul> <li>API keys are never stored in config files</li> <li>No secrets are sent to AI unless explicitly referenced</li> <li>All AI interactions are logged and reviewable</li> <li>Nothing is executed or merged automatically</li> </ul> <p>This makes configuration safe to commit.</p>"},{"location":"configuration/#customizing-agent-prompts-advanced","title":"Customizing agent prompts (advanced)","text":"<p>Agent prompts live under:</p> <pre><code>.weft/prompts/v1.0.0/\n</code></pre> <p>You can edit these to: - adapt tone - add project-specific rules - experiment with workflows</p> <p>After editing prompts, restart the runtime:</p> <pre><code>weft down\nweft up\n</code></pre>"},{"location":"configuration/#when-to-change-configuration","title":"When to change configuration","text":"<p>Change config when: - switching models or providers - adjusting workflow depth - integrating into CI or monorepos</p> <p>Avoid changing config for one-off features \u2014 prompts are usually the better lever.</p>"},{"location":"configuration/#next-steps","title":"Next steps","text":"<ul> <li>Learn how agents work \u2192 agents.md</li> <li>Explore CLI commands \u2192 cli-reference.md</li> <li>Understand the system design \u2192 architecture.md</li> </ul>"},{"location":"development/","title":"Development Guide","text":"<p>This document describes how to develop and contribute to Weft. It is intended for contributors and maintainers, not end users.</p>"},{"location":"development/#getting-started","title":"Getting Started","text":""},{"location":"development/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.11 or higher</li> <li>Docker and Docker Compose</li> <li>Git</li> </ul>"},{"location":"development/#development-setup","title":"Development Setup","text":"<pre><code># Clone repository\ngit clone https://github.com/weftlabs/weft-cli.git\ncd weft-cli\n\n# Create virtual environment\npython3 -m venv venv\nsource venv/bin/activate  # Windows: venv\\Scripts\\activate\n\n# Install development dependencies\npip install -e \".[dev]\"\n\n# Run tests\npytest\n</code></pre>"},{"location":"development/#project-structure","title":"Project Structure","text":"<pre><code>weft/\n\u251c\u2500\u2500 src/weft/               # Main package\n\u2502   \u251c\u2500\u2500 agents/             # Agent implementations\n\u2502   \u251c\u2500\u2500 cli/                # CLI commands\n\u2502   \u251c\u2500\u2500 config/             # Configuration management\n\u2502   \u251c\u2500\u2500 git/                # Git operations\n\u2502   \u251c\u2500\u2500 history/            # AI history tracking\n\u2502   \u251c\u2500\u2500 templates/          # Docker &amp; config templates\n\u2502   \u2514\u2500\u2500 utils/              # Utilities\n\u251c\u2500\u2500 tests/                  # Test suite\n\u2502   \u251c\u2500\u2500 unit/               # Unit tests (mirror src structure)\n\u2502   \u2514\u2500\u2500 integration/        # Integration tests\n\u251c\u2500\u2500 docs/                   # Documentation\n\u251c\u2500\u2500 templates/              # CLI templates\n\u251c\u2500\u2500 pyproject.toml          # Package configuration\n\u2514\u2500\u2500 README.md               # Project overview\n</code></pre>"},{"location":"development/#code-style","title":"Code Style","text":""},{"location":"development/#python-style-guide","title":"Python Style Guide","text":"<ul> <li>Follow PEP 8</li> <li>Use type hints</li> <li>Keep functions short (&lt;50 lines)</li> <li>Use descriptive names</li> </ul> <p>Docstrings:</p> <ul> <li>Module-level: 1 sentence describing purpose</li> <li>Public functions: 1-2 lines max, only if intent not obvious</li> <li>NO Args/Returns/Raises sections</li> <li>NO examples in docstrings (use tests)</li> </ul>"},{"location":"development/#linting","title":"Linting","text":"<pre><code># Format code\nblack src/ tests/\n\n# Lint\nruff check src/ tests/\n\n# Type check\nmypy src/\n\n# Run all checks\nblack src/ tests/ &amp;&amp; ruff check src/ tests/ &amp;&amp; mypy src/\n</code></pre>"},{"location":"development/#testing","title":"Testing","text":""},{"location":"development/#test-structure","title":"Test Structure","text":"<p>Tests MUST mirror source structure:</p> <pre><code>src/weft/config/settings.py  \u2192  tests/unit/weft/config/test_settings.py\nsrc/weft/agents/meta.py      \u2192  tests/unit/weft/agents/test_meta.py\n</code></pre>"},{"location":"development/#running-tests","title":"Running Tests","text":"<pre><code># Run all tests\npytest\n\n# Run specific test file\npytest tests/unit/weft/config/test_settings.py\n\n# Run specific test function\npytest tests/unit/weft/config/test_settings.py::test_load_weftrc_valid_file\n</code></pre>"},{"location":"development/#development-workflow","title":"Development Workflow","text":""},{"location":"development/#1-choose-a-feature","title":"1. Choose a Feature","text":"<p>Check existing issues for priorities and planned features.</p> <pre><code>gh issue list\n</code></pre>"},{"location":"development/#2-create-feature-branch","title":"2. Create Feature Branch","text":"<pre><code>git checkout -b feat/feature-name\n# or for bugfix\ngit checkout -b fix/issue-description\n</code></pre>"},{"location":"development/#3-implement","title":"3. Implement","text":"<ul> <li>Write tests first (TDD) or alongside code</li> <li>Keep commits focused and logical</li> <li>Write clear commit messages</li> <li>Follow PEP 8 and type hints</li> <li>Update documentation for behavior changes</li> </ul>"},{"location":"development/#4-test","title":"4. Test","text":"<pre><code>pytest\nblack src/ tests/\nruff check src/ tests/\nmypy src/\n</code></pre>"},{"location":"development/#5-document","title":"5. Document","text":"<ul> <li>Update relevant docs in <code>docs/</code></li> <li>Add docstrings if needed</li> <li>Update CHANGELOG.md</li> </ul>"},{"location":"development/#6-submit-pr","title":"6. Submit PR","text":"<pre><code>git push origin feat/feature-name\n</code></pre> <p>Then create a pull request on GitHub referencing the feature or issue, describing changes, including test results, and tagging reviewers.</p>"},{"location":"development/#commit-messages","title":"Commit Messages","text":"<p>Format: <code>type(scope): subject</code></p> <p>Examples:</p> <pre><code>feat(cli): add weft init command\nfix(config): handle missing .weftrc.yaml gracefully\ndocs(guide): update getting started tutorial\ntest(agents): add meta agent integration tests\n</code></pre>"},{"location":"development/#getting-help","title":"Getting help","text":"<ul> <li>Open a GitHub issue for bugs or unexpected behavior  </li> <li>Use pull requests for code changes</li> </ul>"},{"location":"development/#resources","title":"Resources","text":"<ul> <li>Architecture: architecture.md </li> <li>CLI Reference: cli-reference.md </li> <li>Installation: installation.md</li> </ul>"},{"location":"installation/","title":"Install Weft CLI","text":"<p>This guide shows how to install Weft CLI and get it running in a real project. Most users can be up and running in a few minutes.</p>"},{"location":"installation/#prerequisites","title":"Prerequisites","text":"<p>Before installing Weft, make sure you have: - Python 3.11 or higher - Docker and Docker Compose (for running agents) - Claude API key (unless using a local model)</p> <p>Weft never executes code automatically and never sends secrets or source code without your approval.</p>"},{"location":"installation/#choose-an-installation-method","title":"Choose an installation method","text":""},{"location":"installation/#method-1-homebrew-recommended-for-macoslinux","title":"Method 1: Homebrew (Recommended for macOS/Linux)","text":"<p>Recommended for most macOS and Linux users.</p> <pre><code># Add the Weft tap\nbrew tap weftlabs/tap\n\n# Install weft\nbrew install weft\n\n# Verify installation\nweft --version\n</code></pre> <p>Update to latest version: <pre><code>brew upgrade weft\n</code></pre></p>"},{"location":"installation/#method-2-pipx-recommended-for-python-developers","title":"Method 2: pipx (Recommended for Python Developers)","text":"<p>Recommended if you prefer Python-isolated CLI tools.</p> <pre><code># Install pipx if you don't have it\npython3 -m pip install --user pipx\npython3 -m pipx ensurepath\n\n# Install weft\npipx install git+https://github.com/weftlabs/weft-cli.git\n\n# Or install from PyPI (once published)\n# pipx install weft\n</code></pre> <p>Update to latest version: <pre><code>pipx upgrade weft\n</code></pre></p> <p>Uninstall: <pre><code>pipx uninstall weft\n</code></pre></p>"},{"location":"installation/#method-3-quick-install-script","title":"Method 3: Quick Install Script","text":"<p>Useful for CI, containers, or quick evaluation.</p> <pre><code># Download and run the install script\ncurl -fsSL https://raw.githubusercontent.com/weftlabs/weft-cli/main/install.sh | sh\n\n# Or using wget\nwget -qO- https://raw.githubusercontent.com/weftlabs/weft-cli/main/install.sh | sh\n</code></pre> <p>Note: This method uses <code>pip install --user</code>, which installs to your user directory. You may need to add <code>~/.local/bin</code> to your PATH:</p> <pre><code># Add to ~/.bashrc or ~/.zshrc\nexport PATH=\"$HOME/.local/bin:$PATH\"\n</code></pre>"},{"location":"installation/#method-4-from-source-for-development","title":"Method 4: From Source (For Development)","text":"<p>Intended for contributors and development.</p> <pre><code># Clone the repository\ngit clone https://github.com/weftlabs/weft-cli.git\ncd weft-cli\n\n# Install in development mode\npip install -e .\n\n# Or with development dependencies\npip install -e \".[dev]\"\n</code></pre> <p>See development.md for complete development setup.</p>"},{"location":"installation/#first-time-setup","title":"First-time setup","text":""},{"location":"installation/#1-initialize-your-first-project","title":"1. Initialize Your First Project","text":"<pre><code># Navigate to your project\ncd ~/projects/my-app\n\n# Initialize Weft\nweft init\n\n# This creates the project configuration and runtime directory\n</code></pre>"},{"location":"installation/#2-configure-claude-api-key","title":"2. Configure Claude API Key","text":"<p>Weft requires an LLM provider. By default it uses Claude, but local models are supported as well.</p> <pre><code># Set environment variable\nexport ANTHROPIC_API_KEY=sk-ant-api03-your-key-here\n\n# Or create a .env file in your project\necho \"ANTHROPIC_API_KEY=sk-ant-api03-your-key-here\" &gt; .env\n</code></pre> <p>Security Note: Never commit <code>.env</code> files to version control.</p>"},{"location":"installation/#3-start-the-runtime","title":"3. Start the Runtime","text":"<pre><code># Start agent watchers\nweft up\n\n# View logs\nweft logs meta --follow\n</code></pre> <p>Docker is required to run agents in isolated containers.</p> <pre><code># Check Docker is running\ndocker --version\ndocker compose version\n\n# Test Docker access\ndocker ps\n</code></pre>"},{"location":"installation/#next-steps","title":"Next Steps","text":"<ul> <li>Learn how agents work \u2192 agents.md  </li> <li>Explore configuration options \u2192 configuration.md  </li> <li>See all CLI commands \u2192 cli-reference.md  </li> </ul>"},{"location":"installation/#getting-help","title":"Getting help","text":"<ul> <li>Check the troubleshooting guide  </li> <li>Search existing GitHub issues  </li> <li>Open a new issue with logs and reproduction steps  </li> </ul>"},{"location":"release/","title":"Release Guide","text":"<p>This document describes how maintainers create a new release of Weft CLI.</p> <p>This guide is for maintainers only. End users do not need it.</p>"},{"location":"release/#overview","title":"Overview","text":"<p>Releases are created by: 1. Updating the version and changelog 2. Creating a git tag 3. Letting GitHub Actions build and publish artifacts</p> <p>Most of the process is automated once the tag is pushed.</p>"},{"location":"release/#one-time-setup-homebrew-only","title":"One-time setup (Homebrew only)","text":"<p>If you publish via Homebrew:</p> <ul> <li>Create the tap repository: <code>weftlabs/homebrew-tap</code></li> <li>Add a <code>HOMEBREW_TAP_TOKEN</code> GitHub Actions secret to <code>weftlabs/weft-cli</code></li> <li>Token must have write access to the tap repository</li> <li>Ensure the formula exists at <code>homebrew-tap/Formula/weft.rb</code></li> </ul> <p>This setup is required only once.</p>"},{"location":"release/#release-checklist","title":"Release checklist","text":""},{"location":"release/#1-prepare-main","title":"1. Prepare <code>main</code>","text":"<pre><code>git checkout main\ngit pull origin main\n</code></pre> <p>Ensure: - Tests pass - No local changes are pending</p>"},{"location":"release/#2-run-checks-locally","title":"2. Run checks locally","text":"<pre><code>pytest\nruff check .\nblack --check .\nmypy src/\n</code></pre> <p>Fix any issues before continuing.</p>"},{"location":"release/#3-update-version-and-changelog","title":"3. Update version and changelog","text":"<ul> <li>Bump <code>version = \"...\"</code> in <code>pyproject.toml</code></li> <li>Update <code>CHANGELOG.md</code> for the release</li> </ul> <p>Do not include unreleased or speculative items.</p>"},{"location":"release/#4-commit-and-tag","title":"4. Commit and tag","text":"<pre><code>git add pyproject.toml CHANGELOG.md\ngit commit -m \"chore(release): bump version to vX.Y.Z\"\ngit push origin main\n\ngit tag -a vX.Y.Z -m \"Release vX.Y.Z\"\ngit push origin vX.Y.Z\n</code></pre> <p>Pushing the tag triggers the release workflows.</p>"},{"location":"release/#5-verify-automation","title":"5. Verify automation","text":"<p>In GitHub Actions, verify that: - The release workflow completes successfully - Artifacts are published - Homebrew formula is updated (if enabled)</p>"},{"location":"release/#6-smoke-test-installation","title":"6. Smoke test installation","text":"<p>After the workflows complete:</p> <pre><code>brew tap weftlabs/tap\nbrew install weft\nweft --version\n</code></pre> <p>Optionally test alternative install methods (pipx, install script).</p>"},{"location":"release/#troubleshooting","title":"Troubleshooting","text":""},{"location":"release/#version-mismatch","title":"Version mismatch","text":"<p>If the tag does not match <code>pyproject.toml</code>:</p> <ol> <li>Delete the tag locally and remotely</li> <li>Fix the version</li> <li>Re-tag and push again</li> </ol>"},{"location":"release/#homebrew-update-failed","title":"Homebrew update failed","text":"<p>Most commonly caused by: - Invalid or missing <code>HOMEBREW_TAP_TOKEN</code> - Formula checksum mismatch</p> <p>Check the Actions logs and rerun if needed.</p>"},{"location":"release/#notes","title":"Notes","text":"<ul> <li>Releases should always be created from <code>main</code></li> <li>Avoid rewriting tags after publication</li> <li>Keep this document updated if the automation changes</li> </ul>"},{"location":"troubleshooting/","title":"Troubleshooting","text":"<p>This page lists common issues and how to fix them. If something goes wrong, start here.</p>"},{"location":"troubleshooting/#installation","title":"Installation","text":""},{"location":"troubleshooting/#weft-command-not-found","title":"<code>weft</code> command not found","text":"<p>Problem The <code>weft</code> command is not available after installation.</p> <p>Fix</p> <pre><code>weft --version\n</code></pre> <p>If the command is still not found, reinstall using your chosen method and ensure your PATH is set correctly. See: installation.md</p>"},{"location":"troubleshooting/#import-or-module-errors","title":"Import or module errors","text":"<p>Problem Python reports import or module errors when running Weft.</p> <p>Fix</p> <ul> <li>Ensure Python 3.11+ is installed</li> <li>Reinstall Weft</li> <li>Avoid mixing system Python and virtual environments</li> </ul> <pre><code>python --version\n</code></pre>"},{"location":"troubleshooting/#configuration","title":"Configuration","text":""},{"location":"troubleshooting/#weftrcyaml-not-found","title":"<code>.weftrc.yaml</code> not found","text":"<p>Problem Weft reports that configuration is missing.</p> <p>Fix</p> <pre><code>weft init\n</code></pre> <p>Ensure you are running commands from the project root.</p>"},{"location":"troubleshooting/#api-key-not-detected","title":"API key not detected","text":"<p>Problem Docker Compose warns: <code>The \"ANTHROPIC_API_KEY\" variable is not set</code></p> <p>Fix</p> <ol> <li> <p>Create .env file in project root: <pre><code>echo \"ANTHROPIC_API_KEY=sk-ant-your-key\" &gt; .env\n</code></pre></p> </li> <li> <p>Or export in shell: <pre><code>export ANTHROPIC_API_KEY=sk-ant-your-key\n</code></pre></p> </li> <li> <p>Restart the runtime: <pre><code>weft down\nweft up\n</code></pre></p> </li> </ol> <p>Note: After running <code>weft init</code>, <code>.weft/.env.weft.common</code> should exist. If missing, run <code>weft init --force</code> to regenerate.</p>"},{"location":"troubleshooting/#invalid-configuration","title":"Invalid configuration","text":"<p>Problem Weft reports configuration or validation errors.</p> <p>Fix</p> <ul> <li>Check YAML indentation (spaces only)</li> <li>Restore a clean config</li> </ul> <pre><code>mv .weftrc.yaml .weftrc.yaml.bak\nweft init\n</code></pre>"},{"location":"troubleshooting/#docker","title":"Docker","text":""},{"location":"troubleshooting/#docker-is-not-running","title":"Docker is not running","text":"<p>Problem Weft cannot connect to Docker.</p> <p>Fix</p> <ul> <li>Start Docker Desktop (macOS / Windows)</li> <li>Start the Docker service (Linux)</li> </ul> <pre><code>docker ps\n</code></pre>"},{"location":"troubleshooting/#permission-denied-on-docker-socket-linux","title":"Permission denied on Docker socket (Linux)","text":"<p>Problem Your user cannot access Docker.</p> <p>Fix</p> <pre><code>sudo usermod -aG docker $USER\n</code></pre> <p>Log out and back in for changes to apply.</p>"},{"location":"troubleshooting/#containers-fail-to-start","title":"Containers fail to start","text":"<p>Problem Agent containers exit immediately.</p> <p>Fix</p> <pre><code>weft logs meta\n</code></pre> <p>Most commonly caused by missing API keys or Docker misconfiguration.</p>"},{"location":"troubleshooting/#runtime-agents","title":"Runtime &amp; agents","text":""},{"location":"troubleshooting/#agents-are-not-processing-work","title":"Agents are not processing work","text":"<p>Problem Agents start but no output is produced.</p> <p>Fix</p> <ul> <li>Ensure the runtime is running</li> <li>Restart the runtime</li> </ul> <pre><code>weft down\nweft up\n</code></pre>"},{"location":"troubleshooting/#agent-output-is-incorrect-or-incomplete","title":"Agent output is incorrect or incomplete","text":"<p>Problem Generated output does not match expectations.</p> <p>Fix</p> <ul> <li>Refine the feature prompt</li> <li>Adjust agent prompts if needed</li> <li>Rerun the feature</li> </ul> <p>Iteration is expected.</p>"},{"location":"troubleshooting/#features-git","title":"Features &amp; git","text":""},{"location":"troubleshooting/#feature-cannot-be-created-or-started","title":"Feature cannot be created or started","text":"<p>Problem Feature commands fail.</p> <p>Fix</p> <ul> <li>Ensure the project is initialized</li> <li>Use a simple feature name (kebab-case)</li> </ul> <pre><code>weft feature list\n</code></pre>"},{"location":"troubleshooting/#merge-fails-due-to-untracked-files","title":"Merge fails due to untracked files","text":"<p>Problem Git reports that untracked files would be overwritten.</p> <p>Fix</p> <ol> <li>Move or commit the untracked file  </li> <li>Retry the review</li> </ol> <pre><code>weft feature review &lt;feature&gt;\n</code></pre>"},{"location":"troubleshooting/#networking","title":"Networking","text":""},{"location":"troubleshooting/#cannot-reach-the-ai-provider","title":"Cannot reach the AI provider","text":"<p>Problem Network errors or timeouts occur.</p> <p>Fix</p> <ul> <li>Check internet connectivity</li> <li>Verify proxy or firewall settings</li> <li>Confirm the API endpoint is reachable</li> </ul>"},{"location":"troubleshooting/#getting-help","title":"Getting help","text":"<p>If the issue persists:</p> <ol> <li> <p>Check logs:    <pre><code>weft logs meta --tail 100\n</code></pre></p> </li> <li> <p>Open a GitHub issue:    https://github.com/weftlabs/weft-cli/issues</p> </li> </ol> <p>Include: - Weft version - Operating system - Docker version - Error message</p>"},{"location":"community/CHANGELOG/","title":"Changelog","text":"<p>All notable changes to Weft will be documented in this file.</p> <p>The format is based on Keep a Changelog, and this project adheres to Semantic Versioning.</p>"},{"location":"community/CHANGELOG/#010-2026-01-07","title":"0.1.0 - 2026-01-07","text":""},{"location":"community/CHANGELOG/#added","title":"Added","text":"<ul> <li>Initial release of Weft CLI</li> <li>Structured, agent-based workflow for AI-assisted feature development</li> <li>Role-based AI agents for design, architecture, implementation, and validation</li> <li>Git-native feature workflow with isolated branches</li> <li>Human review gate before merge</li> <li>Docker-based isolated agent runtime</li> <li>Configuration via <code>.weftrc.yaml</code></li> <li>CLI commands for creating, running, reviewing, and dropping features</li> </ul>"},{"location":"community/CHANGELOG/#documentation","title":"Documentation","text":"<ul> <li>Installation and setup guide</li> <li>Agent workflow overview</li> <li>Configuration reference</li> <li>CLI command reference</li> <li>Architecture overview</li> <li>Troubleshooting guide</li> <li>Development and contribution guide</li> </ul>"},{"location":"community/CHANGELOG/#security","title":"Security","text":"<ul> <li>No automatic code execution or merging</li> <li>Human-in-the-loop review by default</li> <li>API keys provided via environment variables</li> <li>AI interactions are auditable and inspectable</li> </ul>"},{"location":"community/CHANGELOG/#known-limitations","title":"Known limitations","text":"<p>As an initial release, Weft is under active development. Some behaviors and interfaces may change before version 1.0.</p>"},{"location":"community/CONTRIBUTING/","title":"Contributing","text":"<p>Thanks for your interest in contributing to Weft.</p> <p>This document covers the basics for contributing code and documentation. For deeper system details, see the Development Guide.</p>"},{"location":"community/CONTRIBUTING/#development-setup","title":"Development Setup","text":""},{"location":"community/CONTRIBUTING/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.11 or higher</li> <li>Git</li> </ul>"},{"location":"community/CONTRIBUTING/#setup-steps","title":"Setup Steps","text":"<ol> <li> <p>Clone repository: <pre><code>git clone https://github.com/weftlabs/weft-cli.git\ncd weft-cli\n</code></pre></p> </li> <li> <p>Create virtual environment: <pre><code>python -m venv venv\nsource venv/bin/activate  # On Windows: venv\\Scripts\\activate\n</code></pre></p> </li> <li> <p>Install in development mode: <pre><code>pip install -e \".[dev]\"\n</code></pre></p> </li> <li> <p>Run tests: <pre><code>pytest\n</code></pre></p> </li> </ol>"},{"location":"community/CONTRIBUTING/#code-style","title":"Code Style","text":""},{"location":"community/CONTRIBUTING/#python-style-guide","title":"Python Style Guide","text":"<ul> <li>Follow PEP 8</li> <li>Use Black for formatting</li> <li>Use Ruff for linting</li> <li>Use type hints for all functions (optional to check with mypy)</li> <li>Write docstrings for all public APIs</li> </ul>"},{"location":"community/CONTRIBUTING/#docstring-format","title":"Docstring Format","text":"<ul> <li>Module-level: 1 sentence describing purpose</li> <li>Public functions: 1-2 lines max, only if intent not obvious</li> <li>NO Args/Returns/Raises sections</li> <li>NO examples in docstrings (use tests instead)</li> <li>Prefer clear naming over verbose documentation</li> </ul>"},{"location":"community/CONTRIBUTING/#testing-requirements","title":"Testing Requirements","text":""},{"location":"community/CONTRIBUTING/#writing-tests","title":"Writing Tests","text":"<ul> <li>Unit tests: Test individual functions/classes  </li> <li>Integration tests: Test full workflows  </li> <li>No network calls: Mock external APIs</li> </ul>"},{"location":"community/CONTRIBUTING/#running-tests","title":"Running Tests","text":"<pre><code># Run all tests\npytest\n\n# Run specific test\npytest tests/unit/test_config.py -v\n\n# Run integration tests only\npytest tests/integration/ -v\n</code></pre>"},{"location":"community/CONTRIBUTING/#pull-request-process","title":"Pull Request Process","text":""},{"location":"community/CONTRIBUTING/#before-submitting","title":"Before Submitting","text":"<ol> <li> <p>Create feature or fix branch: <pre><code>git checkout -b feat/your-feature-name\n# or\ngit checkout -b fix/your-bugfix-name\n</code></pre></p> </li> <li> <p>Make changes:</p> </li> <li>Write code</li> <li>Add tests</li> <li> <p>Update documentation</p> </li> <li> <p>Run checks: <pre><code># Format code\nblack src/ tests/\n\n# Lint code\nruff check src/ tests/\n\n# Run tests\npytest\n\n# (Optional) Check types\nmypy src/\n</code></pre></p> </li> <li> <p>Commit: <pre><code>git add .\ngit commit -m \"feat: Add feature description\"\n</code></pre></p> </li> </ol>"},{"location":"community/CONTRIBUTING/#commit-message-format","title":"Commit Message Format","text":"<p>Follow Conventional Commits:</p> <pre><code>&lt;type&gt;: &lt;description&gt;\n\n[optional body]\n\n[optional footer]\n</code></pre> <p>Types: - <code>feat:</code> New feature - <code>fix:</code> Bug fix - <code>docs:</code> Documentation only - <code>test:</code> Adding tests - <code>refactor:</code> Code refactoring - <code>style:</code> Code style changes - <code>chore:</code> Maintenance tasks</p>"},{"location":"community/CONTRIBUTING/#creating-pull-request","title":"Creating Pull Request","text":"<ol> <li> <p>Push branch: <pre><code>git push origin feat/your-feature-name\n# or\ngit push origin fix/your-bugfix-name\n</code></pre></p> </li> <li> <p>Open PR on GitHub</p> </li> <li> <p>PR Checklist:</p> </li> <li> Tests pass</li> <li> Documentation updated</li> <li> Type hints added</li> <li> <p> Docstrings written</p> </li> <li> <p>Wait for review</p> </li> </ol>"},{"location":"community/CONTRIBUTING/#cicd-checks","title":"CI/CD Checks","text":"<p>Pull requests are automatically checked by CI. Fix reported issues and push updates to your branch.</p>"},{"location":"community/CONTRIBUTING/#after-review","title":"After Review","text":"<ul> <li>Address review comments  </li> <li>Push changes  </li> <li>Request re-review  </li> </ul>"},{"location":"community/CONTRIBUTING/#development-workflow","title":"Development Workflow","text":"<p>If you are adding new functionality, follow existing patterns and update tests and documentation accordingly.</p>"},{"location":"community/CONTRIBUTING/#resources","title":"Resources","text":"<ul> <li>Development Guide </li> <li>Architecture </li> <li>CLI Reference</li> </ul>"},{"location":"community/CONTRIBUTING/#getting-help","title":"Getting help","text":"<ul> <li>Open a GitHub issue for bugs or questions  </li> <li>Check the documentation before opening a PR</li> </ul>"},{"location":"community/LICENSE/","title":"License","text":"<p>MIT License</p> <p>Copyright \u00a9 2025 Weft</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>"},{"location":"community/SECURITY/","title":"Security Policy","text":""},{"location":"community/SECURITY/#supported-versions","title":"Supported Versions","text":"<p>We release patches for security vulnerabilities. Currently supported versions:</p> Version Supported 0.1.x &lt; 0.1"},{"location":"community/SECURITY/#reporting-a-vulnerability","title":"Reporting a Vulnerability","text":"<p>We take security vulnerabilities seriously. If you discover a security issue in Weft, please report it responsibly:</p>"},{"location":"community/SECURITY/#reporting-process","title":"Reporting Process","text":"<ol> <li>Do NOT open a public GitHub issue for security vulnerabilities</li> <li>Use GitHub's Security Advisory feature:<ul> <li>Go to the Security tab</li> <li>Click \"Report a vulnerability\"</li> <li>Fill out the private security advisory form</li> </ul> </li> <li>Or email directly (if you prefer): security@weftlabs.com</li> </ol>"},{"location":"community/SECURITY/#what-to-include-in-your-report","title":"What to Include in Your Report","text":"<p>To help us triage and fix the issue quickly, please include:</p> <ul> <li>Description of the vulnerability</li> <li>Steps to reproduce the issue</li> <li>Affected versions of Weft</li> <li>Potential impact (e.g., data exposure, code execution)</li> <li>Suggested fix (if you have one)</li> <li>Your contact information (for follow-up questions)</li> </ul>"},{"location":"community/SECURITY/#response-timeline","title":"Response Timeline","text":"<ul> <li>Initial response: Within 48 hours</li> <li>Status update: Within 7 days</li> <li>Fix timeline: Depends on severity</li> <li>Critical: Patch within 7 days</li> <li>High: Patch within 30 days</li> <li>Medium/Low: Addressed in next planned release</li> </ul>"},{"location":"community/SECURITY/#disclosure-policy","title":"Disclosure Policy","text":"<ul> <li>Please give us reasonable time to fix the issue before public disclosure</li> <li>We will credit you in the security advisory (unless you prefer to remain anonymous)</li> <li>Coordinated disclosure: We'll work with you on timing of public announcements</li> </ul>"},{"location":"community/SECURITY/#security-best-practices-for-users","title":"Security Best Practices for Users","text":"<p>When using Weft, follow these security guidelines:</p>"},{"location":"community/SECURITY/#api-keys-and-secrets","title":"API Keys and Secrets","text":"<ul> <li>Never commit API keys to version control</li> <li>Use environment variables: Store <code>ANTHROPIC_API_KEY</code> in <code>.env</code> file (add to <code>.gitignore</code>)</li> <li>Use dotenv files: Keep <code>.env</code> outside of Git repositories</li> <li>Rotate keys regularly: Change API keys every 90 days as a best practice</li> </ul>"},{"location":"community/SECURITY/#ai-generated-code-review","title":"AI-Generated Code Review","text":"<ul> <li>Always review AI outputs before accepting (human-in-the-loop is mandatory)</li> <li>Check for security vulnerabilities: SQL injection, XSS, command injection, etc.</li> <li>Validate input handling: Ensure generated code sanitizes user input</li> <li>Review dependencies: Check if AI suggests insecure or outdated packages</li> </ul>"},{"location":"community/SECURITY/#data-privacy","title":"Data Privacy","text":"<ul> <li>Avoid passing secrets to AI agents in prompts</li> <li>Don't include PII: Keep user data and personally identifiable information out of prompts</li> <li>Review logs: AI history contains all prompts - ensure no sensitive data leaked</li> <li>Use read-only mounts: Docker configurations mount code repositories as read-only</li> </ul>"},{"location":"community/SECURITY/#docker-and-container-security","title":"Docker and Container Security","text":"<ul> <li>Use read-only mounts for code repositories (default configuration)</li> <li>Run as non-root: Container users should not have root privileges</li> <li>Keep images updated: Regularly pull latest base images</li> <li>Limit network access: Watchers only need API access, not full internet</li> </ul>"},{"location":"community/SECURITY/#git-and-version-control","title":"Git and Version Control","text":"<ul> <li>Validate AI-generated commits: Review all code before merging to main branch</li> <li>Use feature branches: Worktrees isolate experimental code</li> <li>Sign commits (optional): Consider GPG signing for added verification</li> <li>Audit AI history repo: Regularly review AI history for unexpected changes</li> </ul>"},{"location":"community/SECURITY/#dependencies","title":"Dependencies","text":"<ul> <li>Use lockfile: Install from <code>requirements-lock.txt</code> for reproducible builds</li> <li>Run security scans: Use tools like <code>pip-audit</code> or <code>safety</code> to check for CVEs</li> <li>Keep dependencies updated: Update regularly but test thoroughly</li> <li>Review transitive deps: AI agents may suggest packages with vulnerable dependencies</li> </ul>"},{"location":"community/SECURITY/#known-security-considerations","title":"Known Security Considerations","text":""},{"location":"community/SECURITY/#ai-generated-code-risks","title":"AI-Generated Code Risks","text":"<ul> <li>No sandbox execution: AI-generated code is not run in a sandbox during review</li> <li>Code quality varies: AI may generate insecure patterns (SQL injection, XSS, etc.)</li> <li>Dependency suggestions: AI may suggest outdated or vulnerable packages</li> <li>Mitigation: Mandatory human review before accepting any AI outputs</li> </ul>"},{"location":"community/SECURITY/#data-sent-to-ai","title":"Data Sent to AI","text":"<ul> <li>Full feature specification: Agent 00 receives your entire feature description</li> <li>Previous outputs: Subsequent agents receive outputs from earlier agents</li> <li>Code context: Integration agent may receive existing code patterns</li> <li>Mitigation: Avoid including secrets, PII, or proprietary algorithms in prompts</li> </ul>"},{"location":"community/SECURITY/#git-operations","title":"Git Operations","text":"<ul> <li>Trust assumption: Git operations assume trusted repository (no signature verification)</li> <li>Merge conflicts: Manual resolution required - potential for mistakes</li> <li>Worktree isolation: Features are isolated but share git object database</li> <li>Mitigation: Review all merges carefully, use protected branches</li> </ul>"},{"location":"community/SECURITY/#network-and-api","title":"Network and API","text":"<ul> <li>Claude API calls: All AI processing goes through Anthropic's API</li> <li>Retry logic: Failed requests are retried automatically (may expose patterns)</li> <li>Rate limiting: Excessive requests may trigger rate limits</li> <li>Mitigation: API keys are never logged, use environment variables only</li> </ul>"},{"location":"community/SECURITY/#docker-and-file-system","title":"Docker and File System","text":"<ul> <li>Shared volumes: AI history repo is mounted read-write for watchers</li> <li>File permissions: Watchers write to filesystem (but only in designated directories)</li> <li>Container escape: Docker misconfigurations could allow container escape</li> <li>Mitigation: Use provided Docker Compose files, don't modify security settings</li> </ul>"},{"location":"community/SECURITY/#security-roadmap","title":"Security Roadmap","text":""},{"location":"community/SECURITY/#v02-planned","title":"v0.2 (Planned)","text":"<ul> <li>Add bandit SAST scanning to CI/CD</li> <li>Implement dependency vulnerability scanning (Snyk or Dependabot)</li> <li>Add security policy enforcement in pre-commit hooks</li> </ul>"},{"location":"community/SECURITY/#v03-planned","title":"v0.3 (Planned)","text":"<ul> <li>Sandboxed code execution for AI-generated code review</li> <li>Static analysis of AI outputs before application</li> <li>Signature verification for AI history commits</li> </ul>"},{"location":"community/SECURITY/#future-enhancements","title":"Future Enhancements","text":"<ul> <li>Local LLM support (removes API dependency)</li> <li>End-to-end encryption for AI history</li> <li>Fine-grained access controls for multi-user deployments</li> <li>Audit logging with tamper-proof trail</li> </ul>"},{"location":"community/SECURITY/#security-contact","title":"Security Contact","text":"<p>For urgent security issues, contact:</p> <ul> <li>Email: security@weftlabs.com</li> <li>GPG Key: [TBD]</li> </ul> <p>For general security questions, open a discussion in GitHub Discussions.</p> <p>Last Updated: 2025-12-31 Security Policy Version: 1.0</p>"},{"location":"community/SECURITY/#security","title":"Security","text":"<p>This document explains how Weft handles code, data, and AI interactions, and what you should review when using it in real projects.</p> <p>Weft is designed to keep humans in control at every step. Nothing is merged or executed automatically.</p>"},{"location":"community/SECURITY/#what-data-is-sent-to-ai-providers","title":"What data is sent to AI providers","text":"<p>Weft uses external AI providers (such as Anthropic) to generate outputs. The following data may be sent, depending on the agent:</p> <ul> <li>Feature descriptions you write</li> <li>Outputs from previous agents (design, architecture, validation)</li> <li>Relevant code context needed to implement the feature</li> </ul> <p>Weft does not automatically send: - Git history outside the active feature - Environment variables or secrets - Files ignored by <code>.gitignore</code></p> <p>You are responsible for the content of feature descriptions and prompts.</p>"},{"location":"community/SECURITY/#how-to-audit-what-was-sent","title":"How to audit what was sent","text":"<p>All AI interactions are written to disk and can be inspected.</p> <ul> <li>Agent inputs and outputs are saved as files</li> <li>Nothing is hidden or streamed directly into git</li> <li>You can review all generated content before merging</li> </ul> <p>If something should not have been sent, it should not be included in the feature description or context.</p>"},{"location":"community/SECURITY/#human-review-and-safety-guarantees","title":"Human review and safety guarantees","text":"<p>Weft enforces a mandatory human review step:</p> <ul> <li>AI-generated code is never merged automatically</li> <li>You must explicitly accept, continue, or drop a feature</li> <li>You can edit or discard generated code before merging</li> </ul> <p>This review step is the primary safety mechanism.</p>"},{"location":"community/SECURITY/#secrets-and-sensitive-data","title":"Secrets and sensitive data","text":"<ul> <li>Do not include API keys, secrets, or credentials in feature descriptions</li> <li>Store API keys in environment variables only</li> <li>Add <code>.env</code> and similar files to <code>.gitignore</code></li> <li>Treat AI history as sensitive and review it regularly</li> </ul> <p>If sensitive data is included in a prompt, it will be sent to the AI provider.</p>"},{"location":"community/SECURITY/#using-local-or-restricted-models","title":"Using local or restricted models","text":"<p>Weft supports using local or self-hosted models.</p> <p>Using a local model: - Prevents external API calls - Keeps all data on your machine or network - Is recommended for highly sensitive codebases</p> <p>Configuration details are documented separately.</p>"},{"location":"community/SECURITY/#docker-and-isolation-model","title":"Docker and isolation model","text":"<ul> <li>Agents run in Docker containers</li> <li>Code is mounted read-only by default</li> <li>Generated outputs are written to dedicated directories</li> <li>Containers do not require inbound network access</li> </ul> <p>Do not weaken container isolation unless you understand the risks.</p>"},{"location":"community/SECURITY/#known-limitations","title":"Known limitations","text":"<ul> <li>AI-generated code may contain bugs or insecure patterns</li> <li>Weft does not sandbox or execute generated code</li> <li>Security review remains your responsibility</li> </ul> <p>Weft reduces risk through visibility and control, not automation.</p>"},{"location":"community/SECURITY/#reporting-security-issues","title":"Reporting security issues","text":"<p>If you believe you have found a security issue in Weft itself:</p> <ul> <li>Do not open a public issue</li> <li>Use GitHub\u2019s private security advisory feature   or contact the maintainers directly via email</li> </ul> <p>Details are available in the repository root <code>SECURITY.md</code>.</p>"}]}